# package组织的Java程序的编译与执行

---

write in *2016-06-08*

#### 概述
创建一个有package组织的Java程序，并编译执行。

## package简介
---

这里`package`的作用就是用来组织Java源代码文件，这也是它最大的应用。当然其他资源文件等也可以用package来组织，但这些应用就比较少了。

package将Java的源代码文件按照树的形式组织起来，类似Linux的文件系统，有一个根`/`，然后下面有各级目录与文件。上篇中的Java程序相当于在根目录下，而这篇中讨论的在非根目录下的Java程序就要相对复杂一些了。

这篇笔记主要记录如何编译与解释在package组织下的Java源代码文件与字节码文件。

## 编写源代码文件

---

为了最简单的来说明问题，主要源码仍然用[上一篇](创建第一个Java命令行程序.md)中的内容。

但是我们要做一点更改——在源码最前面加上一句

```Java
package aaa.bbb.cbc;
```

这句代码的意思是，这个源代码文件由在包`aaa.bbb.ccc`中即位于相对程序根目录`aaa/bbb/ccc/`处。

因此我们还要在工作目录下建`aaa/bbb/ccc/`这样一个目录结构，并把修改过的源代码文件移动到这个新建的目录下。

现在目录结构与源代码文件已经修改好了。

## 编译源代码文件

编译文件有两个选择（在Windows命令行环境下`/`应该换成`\`）。

一、进入源代码文件所在的目录，使用`javac`命令编译

```
cd aaa/bbb/ccc
javac Main.java
```

二、直接在程序根目录进行编译

```
javac aaa/bbb/ccc/Main.java
```

上面两种方法都是可行的，并且会在Main.java的位置生成一个Main.class的字节码文件。

这些跟前面看上去是差不多的，重点在下面的解释字节码文件运行程序上。

## 运行程序

---

这一步是跟上一个程序有很大的不同。

如果你还想在字节码文件所在的目录下使用`java`命令来运行程序，你会得到这样的结果

```
错误: 找不到或无法加载主类 Main
```

即使你在程序根目录下使用`java aaa/bbb/ccc/Main`会得到类似的结果。

那么上面的运行方法就是错误的。你应该回到程序的根目录，然后


```
java aaa.bbb.ccc.Main
```

这样你才能得到正确的运行结果。这是Java中的规则，我们必须按照正确的规则才能得到正确的结果。

当遇到更复杂的程序，尤其是多文件及文件中的互相引用时，使用package组织文件是必要的。这将带来很多好处，后面会进行说明。

# END

# 评论

点击右侧加号，在这里发表你对这篇笔记的看法